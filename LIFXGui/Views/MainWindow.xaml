<Window x:Class="LIFXGui.MainWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:local="clr-namespace:LIFXGui"
		xmlns:VM="clr-namespace:LIFXGui.ViewModels"
		xmlns:C="clr-namespace:LIFXGui.Controls"
		xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
		mc:Ignorable="d"
		Title="MainWindow"
		Height="620"
		Width="394">
	<Window.DataContext>
		<VM:MainViewModel />
	</Window.DataContext>

	<i:Interaction.Triggers>
		<i:EventTrigger EventName="Closing">
			<i:InvokeCommandAction Command="{Binding WindowClosing}" />
		</i:EventTrigger>
	</i:Interaction.Triggers>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition />
		</Grid.RowDefinitions>
		<Grid.Background>
			<LinearGradientBrush EndPoint="-0.098,-0.094"
								 StartPoint="1.02,1.02">
				<GradientStop Color="Black"
							  Offset="0" />
				<GradientStop Color="White"
							  Offset="0.998" />
			</LinearGradientBrush>
		</Grid.Background>
		<ScrollViewer Margin="10"
					  Grid.Row="1">
			<ItemsControl ItemsSource="{Binding Bulbs}">
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<Expander Header="{Binding Label}">
							<C:Bulb />
						</Expander>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
		</ScrollViewer>
		<Button HorizontalAlignment="Left"
				Margin="10,10,0,10"
				Width="75"
				VerticalAlignment="Center"
				Command="{Binding RefreshCommand}">
			<Viewbox>
				<Grid>
					<Grid Name="backgroundGrid"
						  Width="48"
						  Height="48"
						  Visibility="Visible">
						<Rectangle Fill="#00000000"
								   Name="Rect"
								   Visibility="Visible" />
					</Grid>
					<Path Data="M22.408997,16.350006C22.408997,18.212006 21.658997,19.88501 20.440002,21.105988 19.21701,22.325012 17.54599,23.074005 15.684998,23.075012 13.839996,23.075012 12.175995,22.335999 10.959991,21.135986L13.371002,18.725006 6.6679993,18.725006 6.6679993,25.427002 8.8930054,23.201996C10.63501,24.931 13.039001,26 15.684998,26 21.014008,25.998993 25.330994,21.679993 25.332001,16.350006z M16.317993,6C10.989014,6.0010071,6.67099,10.319,6.67099,15.647003L9.5939941,15.647003C9.5950012,13.786011 10.345001,12.114014 11.563995,10.891998 12.783997,9.6740112 14.457001,8.9249878 16.317993,8.9230042 18.190002,8.9230042 19.878998,9.6870117 21.098999,10.920013L18.790009,13.227997 25.330994,13.227997 25.330994,6.6870117 23.165009,8.8510132C21.419006,7.0920105,18.994995,6,16.317993,6z M16,0C24.837006,0 32,7.1629944 32,16 32,24.837006 24.837006,32 16,32 7.1640015,32 0,24.837006 0,16 0,7.1629944 7.1640015,0 16,0z"
						  Stretch="Uniform"
						  Fill="#FFFFFFFF"
						  Width="26"
						  Height="26"
						  Margin="0,0,0,0"
						  RenderTransformOrigin="0.5,0.5">
						<Path.RenderTransform>
							<TransformGroup>
								<TransformGroup.Children>
									<RotateTransform Angle="0" />
									<ScaleTransform ScaleX="1"
													ScaleY="1" />
								</TransformGroup.Children>
							</TransformGroup>
						</Path.RenderTransform>
					</Path>
				</Grid>
			</Viewbox>
		</Button>
	</Grid>
</Window>
